syntax = "proto3";

package current;

import "google/api/annotations.proto";

service CurrentService {
  rpc PostLocationFromBigBrother (PostLocationFromBigBrotherRequest) returns (PostLocationFromBigBrotherReply) {
    option (google.api.http) = {
      get: "/location/bigbrother"
    };
  }


  rpc GetLocation (GetLocationRequest) returns (GetLocationReply) {
    option (google.api.http) = {
      get: "/location"
    };
  }
}

message PostLocationFromBigBrotherRequest {
  double latitude  = 1;
  double longitude = 2;
  double accuracy  = 3;
  double altitude  = 4;
  double bearing   = 5;
  double speed     = 6;
  int32  battlevel = 7;
  string time      = 8;
}

message PostLocationFromBigBrotherReply {
  string err = 1;
}

message GetLocationRequest {
}

message GetLocationReply {
  double latitude          = 1;
  double longitude         = 2;
  int32  battery_remaining = 3;
  string last_updated      = 4;
  string err               = 5;
}
